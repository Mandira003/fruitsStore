{"ast":null,"code":"import { fruitsChart } from \"./data\"; // const testInfo = [\n//   [\"grapes\", 3],\n//   [\"apples\", 5],\n//   [\"peaches\", 2],\n// ];\n\nexport const getPrice = cartItems => {\n  let checkoutPrice = 0;\n  cartItems.forEach(_ref => {\n    let [fruit, quantity] = _ref;\n\n    if (fruitsChart !== null && fruitsChart !== void 0 && fruitsChart[fruit] && quantity >= 0) {\n      var _fruitsChart$fruit, _fruitsChart$fruit$di, _fruitsChart$fruit2, _fruitsChart$fruit2$d;\n\n      let fruitPrice = 0;\n\n      if ((_fruitsChart$fruit = fruitsChart[fruit]) !== null && _fruitsChart$fruit !== void 0 && (_fruitsChart$fruit$di = _fruitsChart$fruit.discount) !== null && _fruitsChart$fruit$di !== void 0 && _fruitsChart$fruit$di.buyOneGetOne) {\n        fruitPrice = (Math.floor(quantity / 2) + quantity % 2) * fruitsChart[fruit].pricePerUnit;\n      } else if ((_fruitsChart$fruit2 = fruitsChart[fruit]) !== null && _fruitsChart$fruit2 !== void 0 && (_fruitsChart$fruit2$d = _fruitsChart$fruit2.discount) !== null && _fruitsChart$fruit2$d !== void 0 && _fruitsChart$fruit2$d.minimumQuantity) {\n        var _fruitsChart$fruit$di2, _fruitsChart$fruit$di3;\n\n        const discount = ((_fruitsChart$fruit$di2 = fruitsChart[fruit].discount) === null || _fruitsChart$fruit$di2 === void 0 ? void 0 : _fruitsChart$fruit$di2.minimumQuantity) <= quantity ? (_fruitsChart$fruit$di3 = fruitsChart[fruit].discount) === null || _fruitsChart$fruit$di3 === void 0 ? void 0 : _fruitsChart$fruit$di3.percentage : 0;\n        fruitPrice = quantity * fruitsChart[fruit].pricePerUnit * ((100 - discount) / 100);\n      } else {\n        fruitPrice = quantity * fruitsChart[fruit].pricePerUnit;\n      }\n\n      checkoutPrice = checkoutPrice + fruitPrice;\n    }\n  });\n  return checkoutPrice;\n};","map":{"version":3,"names":["fruitsChart","getPrice","cartItems","checkoutPrice","forEach","fruit","quantity","fruitPrice","discount","buyOneGetOne","Math","floor","pricePerUnit","minimumQuantity","percentage"],"sources":["/Users/dolly/Desktop/fruits-store/src/utils/getPrice.ts"],"sourcesContent":["import { fruitsChart } from \"./data\";\n\n// const testInfo = [\n//   [\"grapes\", 3],\n//   [\"apples\", 5],\n//   [\"peaches\", 2],\n// ];\nexport const getPrice = (cartItems: (string | number)[][]): number => {\n  let checkoutPrice = 0;\n  cartItems.forEach(([fruit, quantity]) => {\n    if (fruitsChart?.[fruit] && quantity >= 0) {\n      let fruitPrice = 0;\n      if (fruitsChart[fruit]?.discount?.buyOneGetOne) {\n        fruitPrice =\n          (Math.floor((quantity as number) / 2) + ((quantity as number) % 2)) *\n          fruitsChart[fruit].pricePerUnit;\n      } else if (fruitsChart[fruit]?.discount?.minimumQuantity) {\n        const discount =\n          (fruitsChart[fruit].discount?.minimumQuantity as number) <= quantity\n            ? (fruitsChart[fruit].discount?.percentage as number)\n            : 0;\n        fruitPrice =\n          (quantity as number) *\n          fruitsChart[fruit].pricePerUnit *\n          ((100 - discount) / 100);\n      } else {\n        fruitPrice = (quantity as number) * fruitsChart[fruit].pricePerUnit;\n      }\n      checkoutPrice = checkoutPrice + fruitPrice;\n    }\n  });\n  return checkoutPrice;\n};\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,QAA5B,C,CAEA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,QAAQ,GAAIC,SAAD,IAA8C;EACpE,IAAIC,aAAa,GAAG,CAApB;EACAD,SAAS,CAACE,OAAV,CAAkB,QAAuB;IAAA,IAAtB,CAACC,KAAD,EAAQC,QAAR,CAAsB;;IACvC,IAAIN,WAAW,SAAX,IAAAA,WAAW,WAAX,IAAAA,WAAW,CAAGK,KAAH,CAAX,IAAwBC,QAAQ,IAAI,CAAxC,EAA2C;MAAA;;MACzC,IAAIC,UAAU,GAAG,CAAjB;;MACA,0BAAIP,WAAW,CAACK,KAAD,CAAf,wEAAI,mBAAoBG,QAAxB,kDAAI,sBAA8BC,YAAlC,EAAgD;QAC9CF,UAAU,GACR,CAACG,IAAI,CAACC,KAAL,CAAYL,QAAD,GAAuB,CAAlC,IAAyCA,QAAD,GAAuB,CAAhE,IACAN,WAAW,CAACK,KAAD,CAAX,CAAmBO,YAFrB;MAGD,CAJD,MAIO,2BAAIZ,WAAW,CAACK,KAAD,CAAf,yEAAI,oBAAoBG,QAAxB,kDAAI,sBAA8BK,eAAlC,EAAmD;QAAA;;QACxD,MAAML,QAAQ,GACZ,2BAACR,WAAW,CAACK,KAAD,CAAX,CAAmBG,QAApB,2DAAC,uBAA6BK,eAA9B,KAA4DP,QAA5D,6BACKN,WAAW,CAACK,KAAD,CAAX,CAAmBG,QADxB,2DACK,uBAA6BM,UADlC,GAEI,CAHN;QAIAP,UAAU,GACPD,QAAD,GACAN,WAAW,CAACK,KAAD,CAAX,CAAmBO,YADnB,IAEC,CAAC,MAAMJ,QAAP,IAAmB,GAFpB,CADF;MAID,CATM,MASA;QACLD,UAAU,GAAID,QAAD,GAAuBN,WAAW,CAACK,KAAD,CAAX,CAAmBO,YAAvD;MACD;;MACDT,aAAa,GAAGA,aAAa,GAAGI,UAAhC;IACD;EACF,CArBD;EAsBA,OAAOJ,aAAP;AACD,CAzBM"},"metadata":{},"sourceType":"module"}